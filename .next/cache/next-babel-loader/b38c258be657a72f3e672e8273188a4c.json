{"ast":null,"code":"import { GraphQLClient } from 'graphql-request';\nexport function request({\n  query,\n  variables,\n  preview\n}) {\n  const endpoint = preview ? `https://graphql.datocms.com/preview` : `https://graphql.datocms.com/`;\n  const client = new GraphQLClient(endpoint, {\n    headers: {\n      authorization: `Bearer ${process.env.NEXT_DATOCMS_API_TOKEN}`\n    }\n  });\n  return client.request(query, variables);\n}\nexport async function getStaticProps(context) {\n  const data = await request({\n    query: HOMEPAGE_QUERY,\n    variables: {\n      limit: 10\n    },\n    preview: context.preview\n  });\n  return {\n    props: {\n      data\n    }\n  };\n}","map":{"version":3,"sources":["/home/fabio/my-datocms-project/lib/datocms.js"],"names":["GraphQLClient","request","query","variables","preview","endpoint","client","headers","authorization","process","env","NEXT_DATOCMS_API_TOKEN","getStaticProps","context","data","HOMEPAGE_QUERY","limit","props"],"mappings":"AAAA,SAASA,aAAT,QAA8B,iBAA9B;AAEA,OAAO,SAASC,OAAT,CAAiB;AAAEC,EAAAA,KAAF;AAASC,EAAAA,SAAT;AAAoBC,EAAAA;AAApB,CAAjB,EAAgD;AACrD,QAAMC,QAAQ,GAAGD,OAAO,GACnB,qCADmB,GAEnB,8BAFL;AAIA,QAAME,MAAM,GAAG,IAAIN,aAAJ,CAAkBK,QAAlB,EAA4B;AACzCE,IAAAA,OAAO,EAAE;AACPC,MAAAA,aAAa,EAAG,UAASC,OAAO,CAACC,GAAR,CAAYC,sBAAuB;AADrD;AADgC,GAA5B,CAAf;AAKA,SAAOL,MAAM,CAACL,OAAP,CAAeC,KAAf,EAAsBC,SAAtB,CAAP;AACD;AAED,OAAO,eAAeS,cAAf,CAA8BC,OAA9B,EAAuC;AAC5C,QAAMC,IAAI,GAAG,MAAMb,OAAO,CAAC;AACzBC,IAAAA,KAAK,EAAEa,cADkB;AAEzBZ,IAAAA,SAAS,EAAE;AAAEa,MAAAA,KAAK,EAAE;AAAT,KAFc;AAGzBZ,IAAAA,OAAO,EAAES,OAAO,CAACT;AAHQ,GAAD,CAA1B;AAMA,SAAO;AACLa,IAAAA,KAAK,EAAE;AAAEH,MAAAA;AAAF;AADF,GAAP;AAGD","sourcesContent":["import { GraphQLClient } from 'graphql-request'\n\nexport function request({ query, variables, preview }) {\n  const endpoint = preview\n    ? `https://graphql.datocms.com/preview`\n    : `https://graphql.datocms.com/`\n\n  const client = new GraphQLClient(endpoint, {\n    headers: {\n      authorization: `Bearer ${process.env.NEXT_DATOCMS_API_TOKEN}`\n    }\n  })\n  return client.request(query, variables)\n}\n\nexport async function getStaticProps(context) {\n  const data = await request({\n    query: HOMEPAGE_QUERY,\n    variables: { limit: 10 },\n    preview: context.preview\n  })\n\n  return {\n    props: { data }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}